<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Purple Admin</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="../Encadreur/assets/vendors/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="../Encadreur/assets/vendors/css/vendor.bundle.base.css">
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <!-- endinject -->
    <!-- Layout styles -->
   
    <link rel="stylesheet" href="../Encadreur/assets/css/style.css">
    

    <!-- End layout styles -->
    <link rel="shortcut icon" href="../Encadreur/assets/images/favicon.ico" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>
  <body>
    <div class="container-scroller">
      <div class="container-fluid page-body-wrapper full-page-wrapper">
        <div class="content-wrapper d-flex align-items-center auth">
          <div class="row flex-grow">
            <div class="col-lg-4 mx-auto">
              <div class="auth-form-light text-left p-5" style="border-radius: 14px;">                
                <h4>Hello! let's get started</h4>
                <h6 class="font-weight-light">Sign in to continue.</h6>
                <form class="pt-3" action="login.php" method="post" id="loginForm">
                  <!-- Your existing form fields -->
                  <div class="form-group">
                      <input type="text" class="form-control form-control-lg" name="email" id="exampleInputEmail1" placeholder="Email">
                      <span id="emailError" style="color: red;"></span>
                  </div>
                  <div class="form-group">
                      <input type="password" class="form-control form-control-lg" name="password" id="exampleInputPassword1" placeholder="Password">
                      <span id="passwordError" style="color: red;"></span>
                  </div>
                  <div class="mt-3">
                      <button type="button" class="btn btn-outline-success btn-fw" id="submitBtn">SIGN IN</button>
                  </div>
              </form>
              
              </div>
            </div>
          </div>
        </div>
        <!-- content-wrapper ends -->
      </div>
      <!-- page-body-wrapper ends -->
    </div>
    <!-- container-scroller -->
    <!-- plugins:js -->
  
    <script src="../Encadreur/assets/vendors/js/vendor.bundle.base.js"></script>
    <!-- endinject -->
    <!-- Plugin js for this page -->
    <!-- End plugin js for this page -->
    <!-- inject:js -->
    <script src="../Encadreur/assets/js/off-canvas.js"></script>
    <script src="../Encadreur/assets/js/hoverable-collapse.js"></script>
    <script src="../Encadreur/assets/js/misc.js"></script>
    <!-- endinject -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
    $(document).ready(function() {
      $("#submitBtn").click(function() {
        var email = $("#exampleInputEmail1").val();
        var password = $("#exampleInputPassword1").val();

        // Vérification côté client
        if (email === "" || password === "") {
          $("#emailError").text("Veuillez remplir tous les champs.");
          return;
        }

        // Réinitialiser les messages d'erreur côté client
        $("#emailError").text("");
        $("#passwordError").text("");

        // Effectuer une requête AJAX
        $.ajax({
          type: "POST",
          url: "login.php",
          data: $("#loginForm").serialize(),
          success: function(response) {
            // Mettre à jour le contenu de la page en fonction de la réponse du serveur
            if (response === "success-student") {
              window.location.href = "../etudiant/DashboardEt.php";
            } else if (response === "success-admin") {
              window.location.href = "../Admin/DashboardA.php";
            } else if (response === "success-encadreur") {
              window.location.href = "../Encadreur/dashboard.html"

            } else {
              $("#passwordError").text("Email ou mot de passe incorrect.");
            }
          },
          error: function() {
            console.log("Une erreur s'est produite lors de la requête AJAX.");
          }
        });
      });
    });
    </script>
   
  
  </body>
</html>
