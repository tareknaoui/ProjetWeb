<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Purple Admin</title>
        <!-- plugins:css -->
        <link rel="stylesheet" href="../../assets/vendors/mdi/css/materialdesignicons.min.css">
        <link rel="stylesheet" href="../../assets/vendors/css/vendor.bundle.base.css">
        <!-- endinject -->
        <!-- Plugin css for this page -->
        <!-- End plugin css for this page -->
        <!-- inject:css -->
        <!-- endinject -->
        <!-- Layout styles -->
        <link rel="stylesheet" href="../../assets/css/style.css">
        <!-- End layout styles -->
        <link rel="shortcut icon" href="../../assets/images/favicon.ico" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://unpkg.com/driver.js/dist/driver.min.css">
<script src="https://unpkg.com/driver.js/dist/driver.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
      </head>
  <body>
    <div class="container-scroller">
      <div class="container-fluid page-body-wrapper full-page-wrapper">
        <div class="content-wrapper d-flex align-items-center auth">
          <div class="row flex-grow">
            <div class="col-lg-4 mx-auto">
              <div class="auth-form-light text-left p-5">
               
                <h4>New here?</h4>
                <h6 class="font-weight-light">Signing up is easy. It only takes a few steps</h6>
                <form class="pt-3" id="registrationForm">
                  <div class="form-group">
                    <input type="text" class="form-control form-control-lg" id="exampleInputUsername1" placeholder="Nom">
                  </div>
                  <div class="form-group">
                    <input type="text" class="form-control form-control-lg" id="exampleInputUsername1" placeholder="prenom">
                  </div>
                  <div class="form-group">
                    <input type="email" class="form-control form-control-lg" id="exampleInputEmail1" placeholder="Email">
                  </div>
                  
                  <div class="form-group">
                    <input type="password" class="form-control form-control-lg" id="exampleInputPassword1" placeholder="Password">
                  </div>
                  <div class="form-group">
                    <input type="password" class="form-control form-control-lg" id="exampleInputPassword2" placeholder="Confirm Password">
                  </div>
                  <div class="form-group">
                    <label>I am a :</label><br>
                    <input type="radio" id="student" name="userType" value="Etudiant">
                    <label for="student">Student</label><br>
                    <input type="radio" id="teacher" name="userType" value="Encadreur">
                    <label for="teacher">Teacher</label>
                  </div>
                  <div id="specialty"></div>
                  <div class="mb-4">
                    <div class="form-check">
                      <label class="form-check-label text-muted">
                        <input type="checkbox" class="form-check-input"> I agree to all Terms & Conditions </label>
                    </div>
                  </div>
                  <div class="mt-3">
                    <button type="submit" class="btn btn-block btn-gradient-primary btn-lg font-weight-medium auth-form-btn">SIGN UP</button>
                  </div>
                  <div class="text-center mt-4 font-weight-light"> Already have an account? <a href="login.html" class="text-primary">Login</a>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        <!-- content-wrapper ends -->
      </div>
      <!-- page-body-wrapper ends -->
    </div>
    <!-- container-scroller -->
    <!-- plugins:js -->
    <script src="../../assets/vendors/js/vendor.bundle.base.js"></script>
    <!-- endinject -->
    <!-- Plugin js for this page -->
    <!-- End plugin js for this page -->
    <!-- inject:js -->
    <script src="../../assets/js/off-canvas.js"></script>
    <script src="../../assets/js/hoverable-collapse.js"></script>
    <script src="../../assets/js/misc.js"></script>
    <script src="../../dashboard.html"></script>
    <script>
        function testEmail(email) {
          const regex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
          return regex.test(email);
        }
      
        // Test for password strength
        function testPassword(password) {
          const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
          return regex.test(password);
        }
      
        $(document).ready(function() {
          $('#registrationForm').on('submit', function(e) {
            e.preventDefault();
      
            const email = $('#exampleInputEmail1').val();
            const password = $('#exampleInputPassword1').val();
            const confirmPassword = $('#exampleInputPassword2').val();      
            if (!testEmail(email)) {
              alert('Invalid email');
              return;
            }
      
            if (!testPassword(password)) {
              alert(' password weak');
              return;
            }
            if (password !== confirmPassword) {
                alert('Passwords do not match');
                return;
             }
            
      
            const formData = new FormData(document.getElementById('registrationForm'));
            const role = formData.get('userType'); // Get the value of the role
      
            if (role === 'Etudiant') {
              // Redirect the user to the student dashboard page
              window.location.href = '../../../etudiant/dashboardEt.html';
            } else if (role === 'Encadreur') {
              // Redirect the user to the teacher dashboard page
              window.location.href = '../../dashboard.html';
            }
          });
        });
        $(document).ready(function() {
  $('input[type=radio][name=userType]').change(function() {
    if (this.value == 'Etudiant') {
      $('#specialty').html(`
        <select name="specialty">
          <option value="informatique">Informatique</option>
          <option value="chimie">Chimie</option>
          <option value="commerce">Commerce</option>
        </select>
      `);
    } else {
      $('#specialty').html('');
    }
  });
});

// Create a new Driver instance
const driver = new Driver();

// Define the steps of your tour
driver.defineSteps([
  {
    element: '#exampleInputUsername1',
    popover: {
      title: 'Nom',
      description: 'Enter your first name here',
      position: 'bottom'
    }
  },
  {
    element: '#exampleInputEmail1',
    popover: {
      title: 'Email',
      description: 'Enter your email here',
      position: 'bottom'
    }
  },
  {
    element: '#exampleInputPassword1',
    popover: {
      title: 'Password',
      description: 'Enter your password here',
      position: 'bottom'
    }
  },
  // Add more steps as needed
]);

// Start the tour
driver.start();
      </script>
    

  </body>
</html>